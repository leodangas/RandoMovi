(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{59:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var c=a(2),s=a.n(c),i=a(29),r=a.n(i),n=a(5),o=a(3),l=a(35),d=a(1),j=Object(c.createContext)(),v=function(e){var t=Object(c.useState)([{id:28,active:!1},{id:12,active:!1},{id:16,active:!1},{id:35,active:!1},{id:80,active:!1},{id:99,active:!1},{id:18,active:!1},{id:10751,active:!1},{id:14,active:!1},{id:36,active:!1},{id:27,active:!1},{id:10402,active:!1},{id:9648,active:!1},{id:10749,active:!1},{id:878,active:!1},{id:53,active:!1},{id:10752,active:!1},{id:37,active:!1}]),a=Object(o.a)(t,2),s=a[0],i=a[1];return Object(d.jsx)(j.Provider,{value:[s,i],children:e.children})},u=Object(c.createContext)(),b=function(e){var t=Object(c.useState)({releasedFrom:"1900",releasedTo:"2021",ratedOver:"",votesOver:"450"}),a=Object(o.a)(t,2),s=a[0],i=a[1];return Object(d.jsx)(u.Provider,{value:[s,i],children:e.children})},O=Object(c.createContext)(),h=function(e){var t=Object(c.useState)({genres:"",releasedFrom:"1900",releasedTo:"2021",ratedOver:"",votesOver:"450",totalPages:"",visitedPages:"",totalResults:"",visitedResults:"",totalPageResults:"",visitedPageResults:""}),a=Object(o.a)(t,2),s=a[0],i=a[1];return Object(d.jsx)(O.Provider,{value:[s,i],children:e.children})},m=Object(c.createContext)(),g=function(e){var t=Object(c.useState)([{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Sci-Fi"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}]),a=Object(o.a)(t,2),s=a[0],i=a[1];return Object(d.jsx)(m.Provider,{value:[s,i],children:e.children})},f=a(7),x=function(e){var t=Object(c.useState)("+"),a=Object(o.a)(t,2),s=a[0],i=a[1],r=Object(c.useState)(""),n=Object(o.a)(r,2),l=n[0],v=n[1],u=Object(c.useContext)(j),b=Object(o.a)(u,2),O=b[0],h=b[1];Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("filters"));null!==e&&h(e)}),[]),Object(c.useEffect)((function(){var t=O.find((function(t){return t.id===e.genreId&&!0===t.active}));t&&(v("active-genre"),i("\u2713")),t||(v(""),i("+"))}),[O,e.genreId]);return Object(d.jsxs)("div",{className:"genre-button ".concat(l),onClick:function(){null===JSON.parse(localStorage.getItem("filters"))&&localStorage.setItem("filters",JSON.stringify(O));var t=O.map((function(t){return t.id===e.genreId?Object(f.a)(Object(f.a)({},t),{},{active:!t.active}):t}));h(t)},children:[Object(d.jsx)("h1",{children:s}),Object(d.jsx)("h1",{children:e.genreName})]})},p=function(e){var t=Object(c.useContext)(u),a=Object(o.a)(t,2),s=a[0],i=a[1],r=Object(c.useState)({}),n=Object(o.a)(r,2)[1],l=Object(c.useState)(!1),j=Object(o.a)(l,2),v=j[0],b=j[1];return Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("filtersOther"));null===e?(localStorage.setItem("filtersOther",JSON.stringify(s)),b(!0)):(n(e),i(e),b(!0))}),[]),Object(d.jsx)(d.Fragment,{children:v?Object(d.jsxs)(d.Fragment,{children:[" ",Object(d.jsx)("h1",{children:"Other"}),Object(d.jsx)("h2",{children:"Release date (1900-2021)"}),Object(d.jsxs)("div",{className:"release-date",children:[Object(d.jsx)("input",{value:s.releasedFrom,onChange:function(e){i(Object(f.a)(Object(f.a)({},s),{},{releasedFrom:e.target.value}))},type:"text"}),Object(d.jsx)("input",{value:s.releasedTo,onChange:function(e){i(Object(f.a)(Object(f.a)({},s),{},{releasedTo:e.target.value}))},type:"text"})]}),Object(d.jsxs)("div",{className:"other-filters",children:[Object(d.jsxs)("div",{className:"filters-rating-votes",children:[Object(d.jsx)("h2",{children:"Movie rating"}),Object(d.jsxs)("select",{onChange:function(e){i(Object(f.a)(Object(f.a)({},s),{},{ratedOver:e.target.value}))},value:s.ratedOver,children:[Object(d.jsx)("option",{value:"0",children:"Ignore this filter"}),Object(d.jsx)("option",{value:"8",children:"Rated over 8"}),Object(d.jsx)("option",{value:"7.5",children:"Rated over 7.5"}),Object(d.jsx)("option",{value:"7",children:"Rated over 7"}),Object(d.jsx)("option",{value:"6.5",children:"Rated over 6.5"}),Object(d.jsx)("option",{value:"6",children:"Rated over 6"})]})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Total Votes"}),Object(d.jsxs)("select",{onChange:function(e){i(Object(f.a)(Object(f.a)({},s),{},{votesOver:e.target.value}))},value:s.votesOver,children:[Object(d.jsx)("option",{value:"0",children:"Ignore this filter"}),Object(d.jsx)("option",{value:"4000",children:"Votes over 100000"}),Object(d.jsx)("option",{value:"1500",children:"Votes over 50000"}),Object(d.jsx)("option",{value:"450",children:"Votes over 10000"})]})]})]})]}):""})},N=(a(59),function(e){var t=Object(c.useContext)(m),a=Object(o.a)(t,1)[0],s=Object(c.useContext)(O),i=Object(o.a)(s,2)[1],r=Object(c.useContext)(j),n=Object(o.a)(r,2),v=n[0],b=n[1],h=Object(c.useContext)(u),g=Object(o.a)(h,1)[0],f=Object(l.useTransition)(e.show,{from:{opacity:0},enter:{opacity:1},config:{duration:500}}),N=function(){var e=v.map((function(e){return{id:e.id,active:!0}}));b(e)},S=function(){var e=v.map((function(e){return{id:e.id,active:!1}}));b(e)},_=function(){Number(g.releasedFrom<1900||g.releasedFrom>2021)?alert("Release date FROM must be greater than 1900 and lower than 2021"):Number(g.releasedTo<1900||g.releasedTo>2021)?alert("Release date TO must be greater than 1900 and lower than 2021"):Number(g.releasedFrom)>Number(g.releasedTo)?alert("Release date FROM must be lower than release date TO"):isNaN(g.releasedFrom)||isNaN(g.releasedTo)?alert("Only write numbers in the date"):(i({genres:v,releasedFrom:g.releasedFrom,releasedTo:g.releasedTo,ratedOver:g.ratedOver,votesOver:g.votesOver,totalPages:"",totalResults:"",visitedPages:"",visitedPageResults:""}),localStorage.setItem("filtersOther",JSON.stringify(g)),localStorage.setItem("filters",JSON.stringify(v)),e.setModal(!1))};return Object(d.jsx)("div",{className:"filters-bg",children:f((function(t,c){return c?Object(d.jsxs)(l.animated.div,{className:"filters-container",style:t,children:[Object(d.jsxs)("div",{className:"filters-header",children:[Object(d.jsx)("h1",{children:"FILTERS"}),Object(d.jsx)("h2",{onClick:function(){return e.setModal(!1)},children:"\u2715"})]}),Object(d.jsxs)("div",{className:"filters-sections",children:[Object(d.jsxs)("div",{className:"filters-genres",children:[Object(d.jsx)("h1",{children:"Genres"}),Object(d.jsxs)("div",{className:"genres",children:[a.map((function(e){return Object(d.jsx)(x,{genreName:e.name,genreId:e.id},e.id)})),Object(d.jsx)("button",{className:"select-all-button",onClick:N,children:"Select All"}),Object(d.jsx)("button",{className:"clear-button",onClick:S,children:"Clear All"})]})]}),Object(d.jsxs)("div",{className:"filters-other",children:[Object(d.jsx)(p,{}),Object(d.jsx)("button",{className:"save-changes",onClick:_,children:"Save Changes"})]})]})]}):""}))})}),S=a(17),_=a.n(S),y=function(e){var t=e.setFindMovie,a=Object(c.useContext)(O),s=Object(o.a)(a,2),i=s[0],r=s[1],l=Object(n.g)();return Object(c.useEffect)((function(){var e="c6e79d5ff2e278a41f6e542761573cc5",a=function e(){var t=Math.floor(Math.random()*i.totalPageResults);return i.visitedPageResults.includes(t)?e():t},c=function e(){var t=Math.floor(Math.random()*i.totalPages)+1;return i.visitedPages.includes(t)?e():t};!function(){t(!1);var s=JSON.parse(localStorage.getItem("filters")),n=JSON.parse(localStorage.getItem("filtersOther"));if(null===s&&(s=""),null===n?n=i:s=0===(s=(s=s.filter((function(e){return!0===e.active}))).map((function(e){return e.id}))).length?"":s.join("|"),""===i.visitedPages)_.a.get("https://api.themoviedb.org/3/discover/movie?api_key=".concat(e,"&include_video=false&primary_release_date.gte=").concat(n.releasedFrom,"-01-01&primary_release_date.lte=").concat(n.releasedTo,"-12-31&vote_count.gte=").concat(Number(n.votesOver),"&vote_average.gte=").concat(Number(n.ratedOver),"&with_genres=").concat(s)).then((function(t){var a=t.data.total_pages,c=Math.floor(Math.random()*a)+1;return 0===t.data.total_results?"No movies":_.a.get("https://api.themoviedb.org/3/discover/movie?api_key=".concat(e,"&include_video=false&primary_release_date.gte=").concat(n.releasedFrom,"-01-01&primary_release_date.lte=").concat(n.releasedTo,"-12-31&vote_count.gte=").concat(Number(n.votesOver),"&vote_average.gte=").concat(Number(n.ratedOver),"&with_genres=").concat(s,"&page=").concat(c))})).then((function(e){if("No movies"===e)alert("No movies were found with these filters");else{var t=e.data.results.length,a=Math.floor(Math.random()*e.data.results.length);r(Object(f.a)(Object(f.a)({},i),{},{totalPages:e.data.total_pages,totalResults:e.data.total_results,visitedPages:[e.data.page],totalPageResults:t,visitedPageResults:[a],visitedResults:1})),l.push("/movie/".concat(e.data.results[a].id))}}));else if(i.totalResults===i.visitedResults)alert("No more movies were found with these filters");else if(i.totalPageResults===i.visitedPageResults.length){var o=c();_.a.get("https://api.themoviedb.org/3/discover/movie?api_key=".concat(e,"&include_video=false&primary_release_date.gte=").concat(n.releasedFrom,"-01-01&primary_release_date.lte=").concat(n.releasedTo,"-12-31&vote_count.gte=").concat(Number(n.votesOver),"&vote_average.gte=").concat(Number(n.ratedOver),"&with_genres=").concat(s,"&page=").concat(o)).then((function(e){var t=e.data.results.length,a=Math.floor(Math.random()*t),c=i.visitedPages;c.push(o),r(Object(f.a)(Object(f.a)({},i),{},{totalPageResults:t,visitedPages:c,visitedPageResults:[a],visitedResults:i.visitedResults+1})),l.push("/movie/".concat(e.data.results[a].id))}))}else _.a.get("https://api.themoviedb.org/3/discover/movie?api_key=".concat(e,"&include_video=false&primary_release_date.gte=").concat(n.releasedFrom,"-01-01&primary_release_date.lte=").concat(n.releasedTo,"-12-31&vote_count.gte=").concat(Number(n.votesOver),"&vote_average.gte=").concat(Number(n.ratedOver),"&with_genres=").concat(s,"&page=").concat(i.visitedPages[i.visitedPages.length-1])).then((function(e){var t=a(),c=i.visitedPageResults;c.push(t),r(Object(f.a)(Object(f.a)({},i),{},{visitedPageResults:c,visitedResults:i.visitedResults+1})),l.push("/movie/".concat(e.data.results[t].id))}))}()})),null},R=(a(83),function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),a=t[0],s=t[1],i=Object(c.useState)(!1),r=Object(o.a)(i,2),l=r[0],j=r[1],v=Object(n.g)();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"navbar-container",children:Object(d.jsxs)("div",{className:"navbar-wrapper",children:[Object(d.jsxs)("div",{className:"navbar-logo",onClick:function(){return v.push("/home")},children:[Object(d.jsx)("img",{src:"https://vbinnovatives.com/vidvibes_html_v2/assets/icon/favicon/red-theme/apple-touch-icon.png",alt:"website's logo"}),Object(d.jsx)("h1",{className:"websites-name",children:"RandoMovi"})]}),Object(d.jsxs)("div",{className:"navbar-buttons",children:[Object(d.jsx)("button",{className:"filters-button",onClick:function(){return s(!0)},children:"Filters"}),Object(d.jsx)("button",{className:"next-movie-button",onClick:function(){return j(!0)},children:"Next Movie"})]})]})}),a?Object(d.jsx)(N,{show:a,setModal:s}):"",l?Object(d.jsx)(y,{setFindMovie:j}):""]})}),w=(a(84),function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),a=t[0],s=t[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"home-container",children:[Object(d.jsx)(R,{}),Object(d.jsxs)("div",{className:"home-wrapper",children:[Object(d.jsx)("h1",{children:"RANDOMOVI"}),Object(d.jsx)("h2",{children:"SUGGEST ME A RANDOM MOVIE TO WATCH"}),Object(d.jsx)("h3",{children:"RandoMovi is a website made for those, who can't choose which movie to watch on a lovely evening, we provide you an engine, which suggests you a random movie according to your chosen criteria!"}),Object(d.jsx)("button",{onClick:function(){return s(!0)},children:"SUGGEST ME A MOVIE"})]})]}),a?Object(d.jsx)(y,{setFindMovie:s}):""]})}),M=a(32);a(85);var C=function(){var e=Object(c.useState)(!0),t=Object(o.a)(e,2),a=t[0],s=t[1],i=Object(c.useState)("active"),r=Object(o.a)(i,2),l=r[0],j=r[1],v=Object(c.useState)(""),u=Object(o.a)(v,2),b=u[0],O=u[1],h=Object(c.useState)({}),m=Object(o.a)(h,2),g=m[0],f=m[1],x=Object(c.useState)({}),p=Object(o.a)(x,2),N=p[0],S=p[1],y=Object(c.useState)(""),w=Object(o.a)(y,2),C=w[0],P=w[1],F=Object(c.useState)(!1),T=Object(o.a)(F,2),I=T[0],k=T[1],E=Object(n.h)();return Object(c.useEffect)((function(){var e="c6e79d5ff2e278a41f6e542761573cc5";_.a.get("https://api.themoviedb.org/3/movie/".concat(E.movieId,"?api_key=").concat(e,"&language=en-US")).then((function(t){var a;return f({name:t.data.title,rating:t.data.vote_average,release:t.data.release_date,poster:t.data.poster_path,length:(a=t.data.runtime,Math.floor(a/60)+" h "+a%60+"min"),description:t.data.overview,genres:t.data.genres}),_.a.get("https://api.themoviedb.org/3/movie/".concat(E.movieId,"/credits?api_key=").concat(e,"&language=en-US"))})).then((function(t){var a=t.data.cast.slice(0,3);a=a.map((function(e){return e.name}));var c=function(e){return e.find((function(e){return"Director"===e.job}))}(t.data.crew);return void 0===c&&(c={name:"Unknown"}),S({cast:a.join(", "),director:c}),_.a.get("http://api.themoviedb.org/3/movie/".concat(E.movieId,"/videos?api_key=").concat(e))})).then((function(e){var t=e.data.results;(t=t.find((function(e){return"Trailer"===e.type})))&&P(t.key),k(!0)}))}),[E,f]),Object(d.jsxs)("div",{className:"movie-container",children:[Object(d.jsx)(R,{}),I?Object(d.jsxs)("div",{className:"movie-wrapper",children:[Object(d.jsx)("div",{className:"movie-image",children:Object(d.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(g.poster),alt:"Movie poster"})}),Object(d.jsxs)("div",{className:"movie-info",children:[Object(d.jsxs)("div",{className:"movie-title-rating",children:[Object(d.jsx)("div",{className:"movie-title",children:Object(d.jsx)("h1",{children:g.name})}),Object(d.jsxs)("div",{className:"rating",children:[Object(d.jsx)("h2",{children:g.rating}),Object(d.jsx)("div",{className:"clip-star"})]})]}),Object(d.jsxs)("div",{className:"movie-release-length",children:[Object(d.jsx)("h1",{children:g.release.substring(0,4)}),Object(d.jsx)("h1",{children:g.length})]}),Object(d.jsxs)("div",{className:"overview-trailer",children:[Object(d.jsx)("h1",{onClick:function(){s(!0),j("active"),O("")},className:l,children:"OVERVIEW"}),Object(d.jsx)("h1",{onClick:function(){s(!1),O("active"),j("")},className:b,children:"TRAILER"})]}),a?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"movie-description",children:Object(d.jsx)("h1",{children:g.description})}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"movie-starring",children:[Object(d.jsx)("h1",{children:"Starring"}),Object(d.jsx)("h2",{children:N.cast})]}),Object(d.jsxs)("div",{className:"movie-starring",children:[Object(d.jsx)("h1",{children:"Created by"}),Object(d.jsx)("h2",{children:N.director.name})]}),Object(d.jsxs)("div",{className:"movie-starring",children:[Object(d.jsx)("h1",{children:"Genre"}),Object(d.jsx)("div",{className:"genres",children:g.genres.map((function(e){return Object(d.jsx)("h2",{children:e.name},e.id)}))})]})]})]}):Object(d.jsx)("div",{className:"movie-trailer",children:Object(d.jsx)("iframe",Object(M.a)({width:"560",height:"300",src:"https://www.youtube.com/embed/".concat(C),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"},"allow","fullscreen"))})]})]}):""]})};var P=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(n.d,{children:Object(d.jsx)(h,{children:Object(d.jsx)(g,{children:Object(d.jsx)(v,{children:Object(d.jsxs)(b,{children:[Object(d.jsx)(n.b,{path:"/",exact:!0,children:Object(d.jsx)(n.a,{to:"/home"})}),Object(d.jsx)(n.b,{path:"/home",children:Object(d.jsx)(w,{})}),Object(d.jsx)(n.b,{path:"/movie/:movieId",children:Object(d.jsx)(C,{})})]})})})})})})},F=a(21);a(86);r.a.render(Object(d.jsx)(F.a,{children:Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(P,{})})}),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.ded7fef8.chunk.js.map