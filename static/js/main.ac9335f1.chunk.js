(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{59:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var c=a(2),s=a.n(c),i=a(29),r=a.n(i),n=a(20),o=a(5),l=a(3),d=a(35),j=a(1),v=Object(c.createContext)(),u=function(e){var t=Object(c.useState)([{id:28,active:!1},{id:12,active:!1},{id:16,active:!1},{id:35,active:!1},{id:80,active:!1},{id:99,active:!1},{id:18,active:!1},{id:10751,active:!1},{id:14,active:!1},{id:36,active:!1},{id:27,active:!1},{id:10402,active:!1},{id:9648,active:!1},{id:10749,active:!1},{id:878,active:!1},{id:53,active:!1},{id:10752,active:!1},{id:37,active:!1}]),a=Object(l.a)(t,2),s=a[0],i=a[1];return Object(j.jsx)(v.Provider,{value:[s,i],children:e.children})},b=Object(c.createContext)(),h=function(e){var t=Object(c.useState)({releasedFrom:"1900",releasedTo:"2021",ratedOver:"",votesOver:"450"}),a=Object(l.a)(t,2),s=a[0],i=a[1];return Object(j.jsx)(b.Provider,{value:[s,i],children:e.children})},O=Object(c.createContext)(),m=function(e){var t=Object(c.useState)({genres:"",releasedFrom:"1900",releasedTo:"2021",ratedOver:"",votesOver:"450",totalPages:"",visitedPages:"",totalResults:"",visitedResults:"",totalPageResults:"",visitedPageResults:""}),a=Object(l.a)(t,2),s=a[0],i=a[1];return Object(j.jsx)(O.Provider,{value:[s,i],children:e.children})},g=Object(c.createContext)(),x=function(e){var t=Object(c.useState)([{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Sci-Fi"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}]),a=Object(l.a)(t,2),s=a[0],i=a[1];return Object(j.jsx)(g.Provider,{value:[s,i],children:e.children})},f=a(7),p=function(e){var t=Object(c.useState)("+"),a=Object(l.a)(t,2),s=a[0],i=a[1],r=Object(c.useState)(""),n=Object(l.a)(r,2),o=n[0],d=n[1],u=Object(c.useContext)(v),b=Object(l.a)(u,2),h=b[0],O=b[1];Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("filters"));null!==e&&O(e)}),[]),Object(c.useEffect)((function(){var t=h.find((function(t){return t.id===e.genreId&&!0===t.active}));t&&(d("active-genre"),i("\u2713")),t||(d(""),i("+"))}),[h,e.genreId]);return Object(j.jsxs)("div",{className:"genre-button ".concat(o),onClick:function(){null===JSON.parse(localStorage.getItem("filters"))&&localStorage.setItem("filters",JSON.stringify(h));var t=h.map((function(t){return t.id===e.genreId?Object(f.a)(Object(f.a)({},t),{},{active:!t.active}):t}));O(t)},children:[Object(j.jsx)("h1",{children:s}),Object(j.jsx)("h1",{children:e.genreName})]})},N=function(e){var t=Object(c.useContext)(b),a=Object(l.a)(t,2),s=a[0],i=a[1],r=Object(c.useState)({}),n=Object(l.a)(r,2)[1],o=Object(c.useState)(!1),d=Object(l.a)(o,2),v=d[0],u=d[1];return Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("filtersOther"));null===e?(localStorage.setItem("filtersOther",JSON.stringify(s)),u(!0)):(n(e),i(e),u(!0))}),[]),Object(j.jsx)(j.Fragment,{children:v?Object(j.jsxs)(j.Fragment,{children:[" ",Object(j.jsx)("h1",{children:"Other"}),Object(j.jsx)("h2",{children:"Release date (1900-2021)"}),Object(j.jsxs)("div",{className:"release-date",children:[Object(j.jsx)("input",{value:s.releasedFrom,onChange:function(e){i(Object(f.a)(Object(f.a)({},s),{},{releasedFrom:e.target.value}))},type:"text"}),Object(j.jsx)("input",{value:s.releasedTo,onChange:function(e){i(Object(f.a)(Object(f.a)({},s),{},{releasedTo:e.target.value}))},type:"text"})]}),Object(j.jsxs)("div",{className:"other-filters",children:[Object(j.jsxs)("div",{className:"filters-rating-votes",children:[Object(j.jsx)("h2",{children:"Movie rating"}),Object(j.jsxs)("select",{onChange:function(e){i(Object(f.a)(Object(f.a)({},s),{},{ratedOver:e.target.value}))},value:s.ratedOver,children:[Object(j.jsx)("option",{value:"0",children:"Ignore this filter"}),Object(j.jsx)("option",{value:"8",children:"Rated over 8"}),Object(j.jsx)("option",{value:"7.5",children:"Rated over 7.5"}),Object(j.jsx)("option",{value:"7",children:"Rated over 7"}),Object(j.jsx)("option",{value:"6.5",children:"Rated over 6.5"}),Object(j.jsx)("option",{value:"6",children:"Rated over 6"})]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Total Votes"}),Object(j.jsxs)("select",{onChange:function(e){i(Object(f.a)(Object(f.a)({},s),{},{votesOver:e.target.value}))},value:s.votesOver,children:[Object(j.jsx)("option",{value:"0",children:"Ignore this filter"}),Object(j.jsx)("option",{value:"4000",children:"Votes over 100000"}),Object(j.jsx)("option",{value:"1500",children:"Votes over 50000"}),Object(j.jsx)("option",{value:"450",children:"Votes over 10000"})]})]})]})]}):""})},S=(a(59),function(e){var t=Object(c.useContext)(g),a=Object(l.a)(t,1)[0],s=Object(c.useContext)(O),i=Object(l.a)(s,2)[1],r=Object(c.useContext)(v),n=Object(l.a)(r,2),o=n[0],u=n[1],h=Object(c.useContext)(b),m=Object(l.a)(h,1)[0],x=Object(d.useTransition)(e.show,{from:{opacity:0},enter:{opacity:1},config:{duration:500}}),f=function(){var e=o.map((function(e){return{id:e.id,active:!0}}));u(e)},S=function(){var e=o.map((function(e){return{id:e.id,active:!1}}));u(e)},_=function(){Number(m.releasedFrom<1900||m.releasedFrom>2021)?alert("Release date FROM must be greater than 1900 and lower than 2021"):Number(m.releasedTo<1900||m.releasedTo>2021)?alert("Release date TO must be greater than 1900 and lower than 2021"):Number(m.releasedFrom)>Number(m.releasedTo)?alert("Release date FROM must be lower than release date TO"):isNaN(m.releasedFrom)||isNaN(m.releasedTo)?alert("Only write numbers in the date"):(i({genres:o,releasedFrom:m.releasedFrom,releasedTo:m.releasedTo,ratedOver:m.ratedOver,votesOver:m.votesOver,totalPages:"",totalResults:"",visitedPages:"",visitedPageResults:""}),localStorage.setItem("filtersOther",JSON.stringify(m)),localStorage.setItem("filters",JSON.stringify(o)),e.setModal(!1))};return Object(j.jsx)("div",{className:"filters-bg",children:x((function(t,c){return c?Object(j.jsxs)(d.animated.div,{className:"filters-container",style:t,children:[Object(j.jsxs)("div",{className:"filters-header",children:[Object(j.jsx)("h1",{children:"FILTERS"}),Object(j.jsx)("h2",{onClick:function(){return e.setModal(!1)},children:"\u2715"})]}),Object(j.jsxs)("div",{className:"filters-sections",children:[Object(j.jsxs)("div",{className:"filters-genres",children:[Object(j.jsx)("h1",{children:"Genres"}),Object(j.jsxs)("div",{className:"genres",children:[a.map((function(e){return Object(j.jsx)(p,{genreName:e.name,genreId:e.id},e.id)})),Object(j.jsx)("button",{className:"select-all-button",onClick:f,children:"Select All"}),Object(j.jsx)("button",{className:"clear-button",onClick:S,children:"Clear All"})]})]}),Object(j.jsxs)("div",{className:"filters-other",children:[Object(j.jsx)(N,{}),Object(j.jsx)("button",{className:"save-changes",onClick:_,children:"Save Changes"})]})]})]}):""}))})}),_=a(17),y=a.n(_),R=function(e){var t=e.setFindMovie,a=Object(c.useContext)(O),s=Object(l.a)(a,2),i=s[0],r=s[1],n=Object(o.g)();return Object(c.useEffect)((function(){var e="c6e79d5ff2e278a41f6e542761573cc5",a=function e(){var t=Math.floor(Math.random()*i.totalPageResults);return i.visitedPageResults.includes(t)?e():t},c=function e(){var t=Math.floor(Math.random()*i.totalPages)+1;return i.visitedPages.includes(t)?e():t};!function(){t(!1);var s=JSON.parse(localStorage.getItem("filters")),o=JSON.parse(localStorage.getItem("filtersOther"));if(null===s&&(s=""),null===o?o=i:s=0===(s=(s=s.filter((function(e){return!0===e.active}))).map((function(e){return e.id}))).length?"":s.join("|"),""===i.visitedPages)y.a.get("https://api.themoviedb.org/3/discover/movie?api_key=".concat(e,"&include_video=false&primary_release_date.gte=").concat(o.releasedFrom,"-01-01&primary_release_date.lte=").concat(o.releasedTo,"-12-31&vote_count.gte=").concat(Number(o.votesOver),"&vote_average.gte=").concat(Number(o.ratedOver),"&with_genres=").concat(s)).then((function(t){var a=t.data.total_pages,c=Math.floor(Math.random()*a)+1;return 0===t.data.total_results?"No movies":y.a.get("https://api.themoviedb.org/3/discover/movie?api_key=".concat(e,"&include_video=false&primary_release_date.gte=").concat(o.releasedFrom,"-01-01&primary_release_date.lte=").concat(o.releasedTo,"-12-31&vote_count.gte=").concat(Number(o.votesOver),"&vote_average.gte=").concat(Number(o.ratedOver),"&with_genres=").concat(s,"&page=").concat(c))})).then((function(e){if("No movies"===e)alert("No movies were found with these filters");else{var t=e.data.results.length,a=Math.floor(Math.random()*e.data.results.length);r(Object(f.a)(Object(f.a)({},i),{},{totalPages:e.data.total_pages,totalResults:e.data.total_results,visitedPages:[e.data.page],totalPageResults:t,visitedPageResults:[a],visitedResults:1})),n.push("/movie/".concat(e.data.results[a].id))}}));else if(i.totalResults===i.visitedResults)alert("No more movies were found with these filters");else if(i.totalPageResults===i.visitedPageResults.length){var l=c();y.a.get("https://api.themoviedb.org/3/discover/movie?api_key=".concat(e,"&include_video=false&primary_release_date.gte=").concat(o.releasedFrom,"-01-01&primary_release_date.lte=").concat(o.releasedTo,"-12-31&vote_count.gte=").concat(Number(o.votesOver),"&vote_average.gte=").concat(Number(o.ratedOver),"&with_genres=").concat(s,"&page=").concat(l)).then((function(e){var t=e.data.results.length,a=Math.floor(Math.random()*t),c=i.visitedPages;c.push(l),r(Object(f.a)(Object(f.a)({},i),{},{totalPageResults:t,visitedPages:c,visitedPageResults:[a],visitedResults:i.visitedResults+1})),n.push("/movie/".concat(e.data.results[a].id))}))}else y.a.get("https://api.themoviedb.org/3/discover/movie?api_key=".concat(e,"&include_video=false&primary_release_date.gte=").concat(o.releasedFrom,"-01-01&primary_release_date.lte=").concat(o.releasedTo,"-12-31&vote_count.gte=").concat(Number(o.votesOver),"&vote_average.gte=").concat(Number(o.ratedOver),"&with_genres=").concat(s,"&page=").concat(i.visitedPages[i.visitedPages.length-1])).then((function(e){var t=a(),c=i.visitedPageResults;c.push(t),r(Object(f.a)(Object(f.a)({},i),{},{visitedPageResults:c,visitedResults:i.visitedResults+1})),n.push("/movie/".concat(e.data.results[t].id))}))}()})),null},w=(a(83),function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),a=t[0],s=t[1],i=Object(c.useState)(!1),r=Object(l.a)(i,2),n=r[0],d=r[1],v=Object(o.g)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"navbar-container",children:Object(j.jsxs)("div",{className:"navbar-wrapper",children:[Object(j.jsxs)("div",{className:"navbar-logo",onClick:function(){return v.push("/home")},children:[Object(j.jsx)("img",{src:"https://vbinnovatives.com/vidvibes_html_v2/assets/icon/favicon/red-theme/apple-touch-icon.png",alt:"website's logo"}),Object(j.jsx)("h1",{className:"websites-name",children:"RandoMovi"})]}),Object(j.jsxs)("div",{className:"navbar-buttons",children:[Object(j.jsx)("button",{className:"filters-button",onClick:function(){return s(!0)},children:"Filters"}),Object(j.jsx)("button",{className:"next-movie-button",onClick:function(){return d(!0)},children:"Next Movie"})]})]})}),a?Object(j.jsx)(S,{show:a,setModal:s}):"",n?Object(j.jsx)(R,{setFindMovie:d}):""]})}),M=(a(84),function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),a=t[0],s=t[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"home-container",children:[Object(j.jsx)(w,{}),Object(j.jsxs)("div",{className:"home-wrapper",children:[Object(j.jsx)("h1",{children:"RANDOMOVI"}),Object(j.jsx)("h2",{children:"SUGGEST ME A RANDOM MOVIE TO WATCH"}),Object(j.jsx)("h3",{children:"RandoMovi is a website made for those, who can't choose which movie to watch on a lovely evening, we provide you an engine, which suggests you a random movie according to your chosen criteria!"}),Object(j.jsx)("button",{onClick:function(){return s(!0)},children:"SUGGEST ME A MOVIE"})]})]}),a?Object(j.jsx)(R,{setFindMovie:s}):""]})}),C=a(32);a(85);var P=function(){var e=Object(c.useState)(!0),t=Object(l.a)(e,2),a=t[0],s=t[1],i=Object(c.useState)("active"),r=Object(l.a)(i,2),n=r[0],d=r[1],v=Object(c.useState)(""),u=Object(l.a)(v,2),b=u[0],h=u[1],O=Object(c.useState)({}),m=Object(l.a)(O,2),g=m[0],x=m[1],f=Object(c.useState)({}),p=Object(l.a)(f,2),N=p[0],S=p[1],_=Object(c.useState)(""),R=Object(l.a)(_,2),M=R[0],P=R[1],F=Object(c.useState)(!1),T=Object(l.a)(F,2),I=T[0],k=T[1],E=Object(o.h)();return Object(c.useEffect)((function(){var e="c6e79d5ff2e278a41f6e542761573cc5";y.a.get("https://api.themoviedb.org/3/movie/".concat(E.movieId,"?api_key=").concat(e,"&language=en-US")).then((function(t){var a;return x({name:t.data.title,rating:t.data.vote_average,release:t.data.release_date,poster:t.data.poster_path,length:(a=t.data.runtime,Math.floor(a/60)+" h "+a%60+"min"),description:t.data.overview,genres:t.data.genres}),y.a.get("https://api.themoviedb.org/3/movie/".concat(E.movieId,"/credits?api_key=").concat(e,"&language=en-US"))})).then((function(t){var a=t.data.cast.slice(0,3);a=a.map((function(e){return e.name}));var c=function(e){return e.find((function(e){return"Director"===e.job}))}(t.data.crew);return void 0===c&&(c={name:"Unknown"}),S({cast:a.join(", "),director:c}),y.a.get("http://api.themoviedb.org/3/movie/".concat(E.movieId,"/videos?api_key=").concat(e))})).then((function(e){var t=e.data.results;(t=t.find((function(e){return"Trailer"===e.type})))&&P(t.key),k(!0)}))}),[E,x]),Object(j.jsxs)("div",{className:"movie-container",children:[Object(j.jsx)(w,{}),I?Object(j.jsxs)("div",{className:"movie-wrapper",children:[Object(j.jsx)("div",{className:"movie-image",children:Object(j.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(g.poster),alt:"Movie poster"})}),Object(j.jsxs)("div",{className:"movie-info",children:[Object(j.jsxs)("div",{className:"movie-title-rating",children:[Object(j.jsx)("div",{className:"movie-title",children:Object(j.jsx)("h1",{children:g.name})}),Object(j.jsxs)("div",{className:"rating",children:[Object(j.jsx)("h2",{children:g.rating}),Object(j.jsx)("div",{className:"clip-star"})]})]}),Object(j.jsxs)("div",{className:"movie-release-length",children:[Object(j.jsx)("h1",{children:g.release.substring(0,4)}),Object(j.jsx)("h1",{children:g.length})]}),Object(j.jsxs)("div",{className:"overview-trailer",children:[Object(j.jsx)("h1",{onClick:function(){s(!0),d("active"),h("")},className:n,children:"OVERVIEW"}),Object(j.jsx)("h1",{onClick:function(){s(!1),h("active"),d("")},className:b,children:"TRAILER"})]}),a?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"movie-description",children:Object(j.jsx)("h1",{children:g.description})}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"movie-starring",children:[Object(j.jsx)("h1",{children:"Starring"}),Object(j.jsx)("h2",{children:N.cast})]}),Object(j.jsxs)("div",{className:"movie-starring",children:[Object(j.jsx)("h1",{children:"Created by"}),Object(j.jsx)("h2",{children:N.director.name})]}),Object(j.jsxs)("div",{className:"movie-starring",children:[Object(j.jsx)("h1",{children:"Genre"}),Object(j.jsx)("div",{className:"genres",children:g.genres.map((function(e){return Object(j.jsx)("h2",{children:e.name},e.id)}))})]})]})]}):Object(j.jsx)("div",{className:"movie-trailer",children:Object(j.jsx)("iframe",Object(C.a)({width:"560",height:"300",src:"https://www.youtube.com/embed/".concat(M),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"},"allow","fullscreen"))})]})]}):""]})};var F=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("h1",{children:"Hey"}),Object(j.jsx)(n.b,{basename:"/",children:Object(j.jsx)(o.d,{children:Object(j.jsx)(m,{children:Object(j.jsx)(x,{children:Object(j.jsx)(u,{children:Object(j.jsxs)(h,{children:[Object(j.jsx)(o.b,{path:"/",exact:!0,children:Object(j.jsx)(o.a,{to:"/home"})}),Object(j.jsx)(o.b,{path:"/home",children:Object(j.jsx)(M,{})}),Object(j.jsx)(o.b,{path:"/movie/:movieId",children:Object(j.jsx)(P,{})})]})})})})})})]})};a(86);r.a.render(Object(j.jsx)(n.a,{basename:"/RandoMovi",children:Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(F,{})})}),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.ac9335f1.chunk.js.map